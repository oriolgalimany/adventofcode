package main

import (
	"bufio"
	"fmt"
	"os"
	"regexp"
	// "strings"
)

type Node struct {
	left  string
	right string
	id    string
}

var network map[string]Node
var instructions string
var start = "AAA"
var goal = "ZZZ"
var steps []string

func load() {
	file, _ := os.Open("test")
	defer file.Close()

	scanner := bufio.NewScanner(file)
	scanner.Scan()
	instructions = scanner.Text()
	re := regexp.MustCompile("\\w+")
	for scanner.Scan() {
		if scanner.Text() == "" {
			continue
		}
		values := re.FindAllString(scanner.Text(), -1)
		var node Node
		node.id = values[0]
		node.left = values[1]
		node.right = values[2]
		network[node.id] = node
	}
}

func run() {
	// current_node := start
	for i := 0; i < len(instructions); i++ {
		fmt.Println(instructions[i])
		// if string(instructions[i]) == "L" {
		// 	current_node = network[current_node].left
		// } else if string(instructions[i]) == "R" {
		// 	current_node = network[current_node].right
		// }
		// steps = append(steps, string(instructions[i]))
		// if current_node == goal {
		// 	break
		// }
		// if i == len(instructions)-1 {
		// 	i = 0
		// }
	}
}

func main() {

	network = make(map[string]Node)

	load()
	fmt.Println(network)
	// fmt.println(instructions)
	run()
	// fmt.Println(steps)
}
